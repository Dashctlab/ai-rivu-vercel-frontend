<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI-RIVU â€¢ Contact Us</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Contact page specific styles */
    .contact-hero {
      background-color: rgba(42, 157, 143, 0.05);
      padding: 3rem 0;
      text-align: center;
    }
    
    .contact-hero h1 {
      font-size: 2.8rem;
      margin-bottom: 1rem;
    }
    
    .contact-hero p {
      max-width: 800px;
      margin: 0 auto 1.5rem;
      font-size: 1.2rem;
    }
    
    .contact-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      max-width: 1100px;
      margin: 3rem auto;
      padding: 0 20px;
    }
    
    .contact-info h2 {
      text-align: left;
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
    }
    
    .contact-info p {
      margin-bottom: 2rem;
    }
    
    .contact-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1.5rem;
    }
    
    .contact-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(42, 157, 143, 0.08);
      color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-right: 1rem;
      flex-shrink: 0;
    }
    
    .contact-details h3 {
      font-size: 1.3rem;
      margin-bottom: 0.3rem;
      color: var(--text-color);
      border-bottom: none;
    }
    
    .contact-form {
      background-color: #fff;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(38, 70, 83, 0.1);
    }
    
    .contact-form h2 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      text-align: left;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
      position: relative;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-color);
    }
    
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid var(--border-color-inputs);
      border-radius: 6px;
      background-color: var(--background-color);
      font-size: 16px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    .form-group input:focus,
    .form-group textarea:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 3px rgba(42, 157, 143, 0.1);
    }
    
    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    /* Validation styles */
    .form-group.error input,
    .form-group.error textarea {
      border-color: #e74c3c;
      background-color: #fdf2f2;
    }
    
    .form-group.success input,
    .form-group.success textarea {
      border-color: #2ecc71;
      background-color: #f0fff4;
    }
    
    .error-message {
      color: #e74c3c;
      font-size: 0.85rem;
      margin-top: 0.25rem;
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .error-message.show {
      display: block;
    }
    
    .validation-icon {
      position: absolute;
      right: 15px;
      top: 38px;
      font-size: 1rem;
      display: none;
    }
    
    .validation-icon.success {
      color: #2ecc71;
      display: block;
    }
    
    .validation-icon.error {
      color: #e74c3c;
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .submit-btn {
      background-color: var(--primary-color);
      color: #fff;
      padding: 12px 28px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      width: 100%;
      position: relative;
    }
    
    .submit-btn:hover:not(:disabled) {
      background-color: #22867a;
      transform: translateY(-2px);
    }
    
    .submit-btn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
      transform: none;
    }
    
    .submit-btn.loading {
      color: transparent;
    }
    
    .submit-btn.loading::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      top: 50%;
      left: 50%;
      margin-left: -10px;
      margin-top: -10px;
      border: 2px solid #ffffff;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
      .contact-grid {
        grid-template-columns: 1fr;
      }
      
      .contact-form {
        order: -1;
      }
      
      .contact-hero h1 {
        font-size: 2.2rem;
      }
    }
  </style>
</head>

<body>
  <!-- Header Container -->
  <div id="header-container"></div>
  
  <!-- CONTACT HERO -->
  <section class="contact-hero">
    <div class="container">
      <h1>Contact Us</h1>
      <p>We're here to help you bring the power of AI into every classroom. Whether you're a teacher, school leader, or a curious collaborator, we'd love to hear from you.</p>
      <p>Reach out to us for support, partnerships, feedback, or just to say hello!</p>
    </div>
  </section>

  <!-- CONTACT CONTENT -->
  <section class="contact-grid">
    <div class="contact-info">
      <h2><br>Get in Touch</h2>
      <p>Have questions about AI-RIVU or need assistance with your account? Our team is ready to help you transform your classroom experience.</p>
      
      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <div class="contact-details">
          <h3>Connect with Us</h3>
          <p>Have questions or need assistance? Drop us a message</p>
          <p><strong> Inquiries:</strong> <br>
          Email: ashwinct@gmail.com <br>
          Call or WhatsApp: +91-8828015315</p>
        </div>
      </div>
      
      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="contact-details">
          <h3>Response Time</h3>
          <p>We strive to respond to all inquiries within 24-48 hours during business days.</p>
        </div>
      </div>
      
      <div class="contact-item">
        <div class="contact-icon">
          <i class="fas fa-map-marker-alt"></i>
        </div>
        <div class="contact-details">
          <h3>Location</h3>
          <p>Asmakam Innovations <br>
          JP Nagar 7th Phase Bengaluru 560078, India</p>
        </div>
      </div>
    </div>
    
    <div class="contact-form">
      <h2>Reach Out to Us</h2>
      <p>Interested in integrating AI-RIVU in your school, running a pilot program, or joining us as a partner? Fill out the form below and we'll get back to you soon.</p><br>
      
      <form id="contactForm" method="POST" onsubmit="return submitToGoogleSheets()">
        <div class="form-group">
          <label for="name">Full Name*</label>
          <input type="text" id="name" name="name" required>
          <div class="validation-icon"></div>
          <div class="error-message"></div>
        </div>
        
        <div class="form-group">
          <label for="phone">Phone Number*</label>
          <input type="tel" id="phone" name="phone" required placeholder="+91-XXXXX-XXXXX">
          <div class="validation-icon"></div>
          <div class="error-message"></div>
        </div>
        
        <div class="form-group">
          <label for="email">Email (Optional)</label>
          <input type="email" id="email" name="email" placeholder="your.email@example.com">
          <div class="validation-icon"></div>
          <div class="error-message"></div>
        </div>
        
        <div class="form-group">
          <label for="message">Message*</label>
          <textarea id="message" name="message" required placeholder="Tell us about your school, requirements, or any questions you have..."></textarea>
          <div class="validation-icon"></div>
          <div class="error-message"></div>
        </div>
        
        <button type="submit" class="submit-btn" id="submitBtn">Submit Message</button>
        <div id="form-status" style="margin-top: 20px; display: none;"></div>
      </form>
    </div>
  </section>

  <!-- Footer Container -->
  <div id="footer-container"></div>

  <!-- Scripts -->
  <script src="/config.js"></script>
  <script src="/shared/constants.js"></script>
  <script src="/shared/components.js"></script>
  <script>
    // Initialize components after DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      initializeCommonComponents({
        currentPage: 'contact',
        isAuthenticated: false
      });
      
      // Initialize form validation
      initializeFormValidation();
    });
    
    // Google Apps Script URL
    const scriptURL = 'https://script.google.com/macros/s/AKfycbw5eZLB0eL1WaCEkl22N7tL_-M-cebpIHVLfRkGsreipKz4Sn6YvfjR8EwCi4UBKZ5a/exec';
    
    // Validation patterns and functions
    const validationRules = {
      name: {
        pattern: /^[a-zA-Z\s]{2,50}$/,
        message: 'Name should contain only letters and spaces (2-50 characters)'
      },
      phone: {
        pattern: /^(\+91[\s\-]?)?[6-9]\d{9}$/,
        message: 'Please enter a valid Indian phone number'
      },
      email: {
        pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
        message: 'Please enter a valid email address'
      },
      message: {
        pattern: /^.{10,500}$/,
        message: 'Message should be between 10-500 characters'
      }
    };
    
    function initializeFormValidation() {
      const form = document.getElementById('contactForm');
      const inputs = form.querySelectorAll('input, textarea');
      
      inputs.forEach(input => {
        // Real-time validation on input
        input.addEventListener('input', function() {
          validateField(this);
        });
        
        // Validation on blur
        input.addEventListener('blur', function() {
          validateField(this);
        });
        
        // Clear validation on focus
        input.addEventListener('focus', function() {
          clearFieldValidation(this);
        });
      });
    }
    
    function validateField(field) {
      const fieldName = field.name;
      const value = field.value.trim();
      const formGroup = field.closest('.form-group');
      const errorMessage = formGroup.querySelector('.error-message');
      const validationIcon = formGroup.querySelector('.validation-icon');
      
      // Skip validation for optional empty fields
      if (!field.required && value === '') {
        clearFieldValidation(field);
        return true;
      }
      
      // Check if field is required and empty
      if (field.required && value === '') {
        showFieldError(formGroup, errorMessage, validationIcon, 'This field is required');
        return false;
      }
      
      // Validate against pattern if value exists
      if (value && validationRules[fieldName]) {
        const rule = validationRules[fieldName];
        if (!rule.pattern.test(value)) {
          showFieldError(formGroup, errorMessage, validationIcon, rule.message);
          return false;
        }
      }
      
      // Field is valid
      showFieldSuccess(formGroup, errorMessage, validationIcon);
      return true;
    }
    
    function showFieldError(formGroup, errorMessage, validationIcon, message) {
      formGroup.classList.remove('success');
      formGroup.classList.add('error');
      errorMessage.textContent = message;
      errorMessage.classList.add('show');
      validationIcon.className = 'validation-icon error';
      validationIcon.innerHTML = '<i class="fas fa-times"></i>';
    }
    
    function showFieldSuccess(formGroup, errorMessage, validationIcon) {
      formGroup.classList.remove('error');
      formGroup.classList.add('success');
      errorMessage.classList.remove('show');
      validationIcon.className = 'validation-icon success';
      validationIcon.innerHTML = '<i class="fas fa-check"></i>';
    }
    
    function clearFieldValidation(field) {
      const formGroup = field.closest('.form-group');
      const errorMessage = formGroup.querySelector('.error-message');
      const validationIcon = formGroup.querySelector('.validation-icon');
      
      formGroup.classList.remove('error', 'success');
      errorMessage.classList.remove('show');
      validationIcon.className = 'validation-icon';
      validationIcon.innerHTML = '';
    }
    
    function validateForm() {
      const form = document.getElementById('contactForm');
      const inputs = form.querySelectorAll('input, textarea');
      let isValid = true;
      
      inputs.forEach(input => {
        if (!validateField(input)) {
          isValid = false;
        }
      });
      
      return isValid;
    }
    
    function submitToGoogleSheets() {
      // Prevent default form submission
      event.preventDefault();
      
      // Validate form
      if (!validateForm()) {
        showStatus('Please fix the errors above before submitting.', 'error');
        return false;
      }
      
      const submitBtn = document.getElementById('submitBtn');
      const statusDiv = document.getElementById('form-status');
      
      // Show loading state
      submitBtn.disabled = true;
      submitBtn.classList.add('loading');
      showStatus('Submitting your message...', 'loading');
      
      // Prepare form data
      const formData = new FormData();
      formData.append('name', document.getElementById('name').value.trim());
      formData.append('phone', document.getElementById('phone').value.trim());
      formData.append('email', document.getElementById('email').value.trim());
      formData.append('message', document.getElementById('message').value.trim());
      
      // Submit the form
      fetch(scriptURL, { 
        method: 'POST', 
        body: formData 
      })
      .then(response => {
        console.log('Success!', response);
        showStatus('Thank you for reaching out! We\'ll get back to you soon.', 'success');
        document.getElementById('contactForm').reset();
        
        // Clear all validation states
        document.querySelectorAll('.form-group').forEach(group => {
          group.classList.remove('error', 'success');
          group.querySelector('.error-message').classList.remove('show');
          group.querySelector('.validation-icon').className = 'validation-icon';
          group.querySelector('.validation-icon').innerHTML = '';
        });
        
        // Hide success message after 5 seconds
        setTimeout(() => {
          statusDiv.style.display = 'none';
        }, 5000);
      })
      .catch(error => {
        console.error('Error!', error.message);
        showStatus('Oops! There was a problem submitting your form. Please try again later.', 'error');
      })
      .finally(() => {
        // Reset button state
        submitBtn.disabled = false;
        submitBtn.classList.remove('loading');
      });
      
      return false;
    }
    
    function showStatus(message, type) {
      const statusDiv = document.getElementById('form-status');
      statusDiv.style.display = 'block';
      statusDiv.textContent = message;
      
      // Remove existing classes
      statusDiv.classList.remove('success', 'error', 'loading');
      
      // Add appropriate class and color
      if (type === 'success') {
        statusDiv.style.color = '#2A9D8F';
        statusDiv.classList.add('success');
      } else if (type === 'error') {
        statusDiv.style.color = '#E76F51';
        statusDiv.classList.add('error');
      } else if (type === 'loading') {
        statusDiv.style.color = '#264653';
        statusDiv.classList.add('loading');
      }
    }
    
    // Phone number formatting (optional enhancement)
    document.getElementById('phone').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, ''); // Remove non-digits
      
      // Auto-add +91 prefix for Indian numbers
      if (value.length === 10 && value.match(/^[6-9]/)) {
        value = '+91-' + value.slice(0, 5) + '-' + value.slice(5);
      } else if (value.length > 10) {
        // Format existing +91 numbers
        if (value.startsWith('91')) {
          value = '+91-' + value.slice(2, 7) + '-' + value.slice(7, 12);
        }
      }
      
      e.target.value = value;
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Generate Question Paper - AI-RIVU</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- JS Logic -->
  <script src="generator.js" defer></script>

  <!-- Access Restriction -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (!localStorage.getItem('userEmail')) {
        window.location.href = '/login.html';
      }
    });
  </script>
</head>
<body>
  <div class="container">
    <h2>Generate Detailed Question Paper</h2>

    <form id="questionForm">

      <!-- Curriculum -->
      <label for="curriculum">Select Curriculum</label>
      <select id="curriculum" name="curriculum" required>
        <option value="">Select Curriculum</option>
        <option value="CBSE">CBSE</option>
        <option value="Karnataka State Board">Karnataka State Board</option>
        <option value="Tamil Nadu State Board">Tamil Nadu State Board</option>
      </select><br><br>

      <!-- Class -->
      <label for="className">Select Class</label>
      <select id="className" name="className" required disabled>
        <option value="">Select Class</option>
      </select><br><br>

      <!-- Subject -->
      <label for="subject">Select Subject</label>
      <select id="subject" name="subject" required disabled>
        <option value="">Select Subject</option>
      </select><br><br>

      <!-- Topic -->
      <label for="topic">Topic(s)</label>
      <input type="text" id="topic" name="topic" placeholder="Enter Topic(s)" /><br><br>

      <!-- Duration -->
      <label for="timeDuration">Time Duration</label>
      <select id="timeDuration" name="timeDuration" required>
        <option value="30">30 Minutes</option>
        <option value="60" selected>1 Hour</option>
        <option value="90">1.5 Hours</option>
        <option value="120">2 Hours</option>
        <option value="180">3 Hours</option>
      </select><br><br>

      <!-- Question Table -->
      <table border="1" id="questionsTable">
        <thead>
          <tr>
            <th>Type of Question</th>
            <th>Number of Questions</th>
            <th>Marks per Question</th>
            <th>Total Marks</th>
          </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
          <tr>
            <td colspan="3" style="text-align: right;">Overall Total Marks:</td>
            <td id="overallTotalMarks">0</td>
          </tr>
        </tfoot>
      </table><br>

      <!-- Difficulty -->
      <label for="easy">Easy %</label>
      <input type="number" id="easy" name="easy" value="0" min="0" max="100"/><br>

      <label for="medium">Medium %</label>
      <input type="number" id="medium" name="medium" value="100" min="0" max="100"/><br>

      <label for="hard">Hard %</label>
      <input type="number" id="hard" name="hard" value="0" min="0" max="100"/><br><br>

      <!-- Additional Conditions -->
      <label for="additionalConditions">Additional Conditions</label><br>
      <textarea id="additionalConditions" name="additionalConditions" placeholder="Any additional conditions..."></textarea><br><br>

      <!-- Answer Key Format -->
      <label><input type="radio" name="answerKeyFormat" value="Brief" checked /> Brief</label>
      <label><input type="radio" name="answerKeyFormat" value="Detailed" /> Detailed</label><br><br>

      <!-- Submit -->
      <button type="submit" id="generateBtn" disabled>Generate Question Paper</button>
    </form>

    <!-- Output -->
    <div id="outputSection" style="display:none;">
      <h3>Generated Question Paper:</h3>
      <pre id="output"></pre>
      <button id="downloadBtn">Download as Word</button>
    </div>

    <!-- Logout -->
    <button onclick="logout()">Logout</button>
  </div>
</body>
</html>
